{% extends 'layout.html' %}
{% block body %}

<div class="class row">
    <div class="class col-md-5">
        {% with messages = get_flashed_messages() %}
          {% if messages %}
            {% for message in messages %}
                <div class="alert alert-warning alert-dismissible fade show" role="alert">
                  {{ messages }}
                  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close">
                  </button>
                </div>
            {%endfor%}
          {% endif %}
        {% endwith %}
    </div>
    <div class="row">
        <div class="col-md-8">
            <form action="/users/search" method="get" class="d-flex form-control">
                <input class="form-control" type="text" name="fullname" placeholder="Buscar por nombre" value="{{ request.args.get('titulo','') }}">
                <button class="btn" type="submit">ğŸ” Buscar</button>
            </form>
        </div>
        <div class="col-md-4" style="text-align: right;">
            <a href="/users/add-user" class="btn btn-success">Nuevo</a>
        </div>
    </div>

    <div class="class col-md-12">
        <table class="table table-striped table-bordered bg-white table-sm">
            <thead>
            <tr>
                <td>Nombre</td>
                <td>TelÃ©fono</td>
                <td>Email</td>
                <td>OperaciÃ³n</td>
            </tr>
            </thead>
            <tbody>
            {% for user in users %}
            <tr>
                <td>{{ user.1 }}</td>
                <td>{{ user.3 }}</td>
                <td>{{ user.2 }}</td>
                <td style="text-align: right;">
                    <a href="/users/edit/{{user.0}}" class="btn btn-success">Editar</a>
                    <a href="/users/delete/{{user.0}}" class="btn btn-danger btn-delete">Eliminar</a>
                </td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

</div>

{% endblock %}